---
interface Props {
  name: string;
  slug: string;
  description: string;
  icon: string;
  workoutCount: number;
  color: string;
}

const { name, slug, description, icon, workoutCount, color } = Astro.props;

const href = `/workouts/${slug}/`;

const colorClasses: Record<string, string> = {
  coral: 'from-coral/20 to-coral/5 hover:from-coral/30 hover:to-coral/10 border-coral/20',
  ocean: 'from-ocean/20 to-ocean/5 hover:from-ocean/30 hover:to-ocean/10 border-ocean/20',
  sunshine: 'from-sunshine/30 to-sunshine/10 hover:from-sunshine/40 hover:to-sunshine/20 border-sunshine/30',
  forest: 'from-forest/20 to-forest/5 hover:from-forest/30 hover:to-forest/10 border-forest/20',
  purple: 'from-purple/20 to-purple/5 hover:from-purple/30 hover:to-purple/10 border-purple/20',
};
---

<a
  href={href}
  class:list={[
    'block p-6 rounded-2xl bg-gradient-to-br border-2 transition-all duration-200',
    'hover:shadow-lg hover:-translate-y-1 active:scale-[0.98]',
    colorClasses[color] || colorClasses.coral
  ]}
>
  <!-- Icon -->
  <div class="text-4xl mb-4">{icon}</div>

  <!-- Title -->
  <h3 class="font-bold text-xl text-navy mb-2">{name}</h3>

  <!-- Description -->
  <p class="text-soft-gray text-sm mb-4 line-clamp-2">{description}</p>

  <!-- Workout Count -->
  <div class="flex items-center gap-2 text-sm">
    <span class="font-semibold text-navy">{workoutCount}</span>
    <span class="text-soft-gray">workouts</span>
    <svg class="w-4 h-4 text-coral ml-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
    </svg>
  </div>
</a>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
