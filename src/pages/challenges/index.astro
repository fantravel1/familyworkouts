---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/global/Header.astro';
import Footer from '../../components/global/Footer.astro';
import MobileNav from '../../components/global/MobileNav.astro';
import BreadcrumbSchema from '../../components/seo/BreadcrumbSchema.astro';

const breadcrumbs = [
  { name: "Home", href: "/" },
  { name: "Community Missions", href: "/challenges/" }
];

const missions = [
  {
    title: "Walk to Tokyo",
    description: "Collect family movement minutes to virtually travel to Tokyo! Every minute = 1 mile. Families worldwide are walking together.",
    slug: "walk-to-tokyo",
    duration: 30,
    difficulty: "beginner",
    icon: "üóº",
    badge: "Active Now",
    participants: "12,847 families",
    progress: 5
  },
  {
    title: "7-Day Family Kickstart",
    description: "New to family fitness? Start here. 7 days of 3-minute games. By day 7, moving together will be a habit.",
    slug: "7-day-kickstart",
    duration: 7,
    difficulty: "beginner",
    icon: "üöÄ",
    badge: "Best for Beginners",
    participants: "23,419 families",
    progress: 0
  },
  {
    title: "Dance Around the World",
    description: "Learn a dance from a different country every day. Brazil, India, Japan, Ireland, and more!",
    slug: "dance-around-world",
    duration: 14,
    difficulty: "beginner",
    icon: "üíÉ",
    badge: "Most Popular",
    participants: "18,291 families",
    progress: 0
  },
  {
    title: "Screen Time Swap",
    description: "Replace 15 minutes of daily screen time with active family play. Track your swap streak!",
    slug: "screen-time-swap",
    duration: 21,
    difficulty: "beginner",
    icon: "üìµ",
    badge: null,
    participants: "9,512 families",
    progress: 0
  },
  {
    title: "Summer Adventure Challenge",
    description: "30 outdoor + indoor family activities for summer. Rain or shine, your family moves.",
    slug: "summer-adventure",
    duration: 30,
    difficulty: "intermediate",
    icon: "‚òÄÔ∏è",
    badge: "Seasonal",
    participants: "6,733 families",
    progress: 0
  },
  {
    title: "Family Yoga Journey",
    description: "21 days to build a family yoga practice. Starts with 3-minute sessions, builds to 12.",
    slug: "family-yoga-journey",
    duration: 21,
    difficulty: "beginner",
    icon: "üßò",
    badge: null,
    participants: "11,204 families",
    progress: 0
  }
];

const difficultyColors: Record<string, string> = {
  beginner: "badge-easy",
  intermediate: "badge-medium",
  advanced: "badge-spicy"
};

const pageTitle = "Community Missions | Family Fitness Challenges | FamilyWorkouts";
const pageDescription = "Join thousands of families on cooperative missions! Walk to Tokyo, Dance Around the World, and more. Not competitive ‚Äî cooperative. Free.";
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
>
  <Header slot="header" currentPath="/challenges/" />

  <div class="section-container">
    <BreadcrumbSchema items={breadcrumbs} />
  </div>

  <!-- Hero Section -->
  <section class="bg-gradient-to-br from-purple/10 via-coral/5 to-ocean/10 py-12 lg:py-16">
    <div class="section-container">
      <div class="max-w-3xl">
        <div class="inline-flex items-center gap-2 bg-purple/10 text-purple font-bold text-sm px-4 py-1.5 rounded-full mb-4">
          <span>üåç</span> Community Missions
        </div>
        <h1 class="text-3xl lg:text-4xl font-extrabold text-navy mb-4">
          Move Together. Globally.
        </h1>
        <p class="text-lg text-soft-gray mb-4">
          Cooperative family missions ‚Äî not competitive. Thousands of families worldwide working toward the same goal. Pick a mission and start contributing minutes.
        </p>
        <div class="flex flex-wrap items-center gap-4">
          <div class="inline-flex items-center gap-2 bg-white/80 px-4 py-2 rounded-full text-sm">
            <span class="w-2 h-2 bg-forest rounded-full animate-pulse"></span>
            <span class="font-semibold text-navy">71,000+ families participating</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Missions Grid -->
  <section class="py-12 lg:py-16">
    <div class="section-container">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {missions.map((mission) => (
          <a
            href={`/challenges/${mission.slug}/`}
            class="game-card overflow-hidden group"
          >
            {mission.badge && (
              <div class="bg-gradient-sunrise text-navy text-xs font-bold px-4 py-1.5 flex items-center gap-1">
                {mission.badge === 'Active Now' && <span class="w-1.5 h-1.5 bg-forest rounded-full animate-pulse"></span>}
                {mission.badge}
              </div>
            )}
            <div class="p-6">
              <div class="flex items-start justify-between mb-4">
                <span class="text-4xl">{mission.icon}</span>
                <div class="text-right">
                  <span class="bg-coral/10 text-coral font-bold text-xs px-2.5 py-1 rounded-full">
                    {mission.duration} days
                  </span>
                </div>
              </div>
              <h2 class="font-extrabold text-lg text-navy mb-2 group-hover:text-coral transition-colors">
                {mission.title}
              </h2>
              <p class="text-soft-gray text-sm mb-4">
                {mission.description}
              </p>
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2 text-xs text-soft-gray">
                  <span>üåç</span>
                  <span>{mission.participants}</span>
                </div>
                <span class:list={[
                  "text-xs px-2.5 py-1 rounded-full capitalize font-semibold",
                  difficultyColors[mission.difficulty]
                ]}>
                  {mission.difficulty}
                </span>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="py-12 lg:py-16 bg-cloud">
    <div class="section-container">
      <h2 class="text-2xl font-extrabold text-navy mb-8 text-center">How Missions Work</h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6 max-w-4xl mx-auto">
        {[
          { step: "1", icon: "üéØ", title: "Pick a Mission", desc: "Choose one that excites your family" },
          { step: "2", icon: "‚ñ∂Ô∏è", title: "Move Daily", desc: "Complete game-workouts at your pace" },
          { step: "3", icon: "üìä", title: "Track Progress", desc: "Your minutes add to the global total" },
          { step: "4", icon: "üéâ", title: "Celebrate", desc: "Hit milestones with families worldwide" },
        ].map((item) => (
          <div class="text-center">
            <div class="w-14 h-14 bg-gradient-sunrise text-navy rounded-2xl flex items-center justify-center mx-auto mb-3 text-2xl">
              {item.icon}
            </div>
            <h3 class="font-bold text-navy mb-1">{item.title}</h3>
            <p class="text-soft-gray text-xs">{item.desc}</p>
          </div>
        ))}
      </div>

      <div class="text-center mt-8 bg-white rounded-2xl p-6 max-w-lg mx-auto">
        <p class="text-sm text-navy font-semibold mb-1">These are cooperative, not competitive.</p>
        <p class="text-xs text-soft-gray">Every family's minutes count toward the global goal. No leaderboards. No shame. Just collective movement.</p>
      </div>
    </div>
  </section>

  <Footer slot="footer" />
  <MobileNav slot="mobile-nav" currentPath="/challenges/" />
</BaseLayout>
