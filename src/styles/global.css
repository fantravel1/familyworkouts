@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Primary Colors */
    --color-sunshine: #FFD93D;
    --color-coral: #FF6B6B;
    --color-ocean: #4ECDC4;
    --color-forest: #2ECC71;
    --color-purple: #9B59B6;

    /* Neutrals */
    --color-navy: #1A1A2E;
    --color-soft-gray: #6B7280;
    --color-cloud: #F8FAFC;

    /* Typography */
    --font-display: 'Inter var', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-body: 'Inter var', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

    /* Spacing */
    --touch-target: 2.75rem;

    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-normal: 200ms ease;
  }

  html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    font-family: var(--font-body);
    color: var(--color-navy);
    background-color: var(--color-cloud);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
  }

  /* Better touch targets for mobile */
  button, a, input, select, textarea {
    min-height: var(--touch-target);
  }

  /* Focus styles for accessibility */
  :focus-visible {
    outline: 2px solid var(--color-ocean);
    outline-offset: 2px;
  }

  /* Reduced motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Primary Button */
  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3
           bg-gradient-sunrise text-navy font-semibold rounded-xl
           transition-all duration-150 ease-out
           hover:shadow-lg hover:-translate-y-0.5
           active:translate-y-0 active:shadow-md
           focus:outline-none focus-visible:ring-2 focus-visible:ring-coral focus-visible:ring-offset-2
           min-h-touch;
  }

  /* Secondary Button */
  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3
           bg-white text-navy font-semibold rounded-xl border-2 border-navy
           transition-all duration-150 ease-out
           hover:bg-navy hover:text-white
           active:scale-[0.98]
           focus:outline-none focus-visible:ring-2 focus-visible:ring-navy focus-visible:ring-offset-2
           min-h-touch;
  }

  /* Play Button - the big CTA */
  .btn-play {
    @apply inline-flex items-center justify-center gap-3
           px-8 py-4 text-lg font-bold rounded-2xl
           bg-gradient-to-r from-coral to-coral/90 text-white
           shadow-lg shadow-coral/30
           transition-all duration-200 ease-out
           hover:shadow-xl hover:shadow-coral/40 hover:-translate-y-1 hover:scale-[1.02]
           active:translate-y-0 active:scale-[0.98]
           focus:outline-none focus-visible:ring-2 focus-visible:ring-coral focus-visible:ring-offset-2
           min-h-touch;
  }

  /* Pill toggle button for Press Play generator */
  .pill-toggle {
    @apply px-4 py-2 rounded-full text-sm font-semibold
           border-2 border-transparent
           transition-all duration-150 ease-out cursor-pointer
           hover:scale-105 active:scale-95;
  }

  .pill-toggle[aria-pressed="true"],
  .pill-toggle.active {
    @apply shadow-md scale-105;
  }

  /* Card Component */
  .card {
    @apply bg-white rounded-2xl shadow-md overflow-hidden
           transition-all duration-200 ease-out
           hover:shadow-xl hover:-translate-y-1
           active:scale-[0.98];
  }

  /* Game Card - more playful variant */
  .game-card {
    @apply bg-white rounded-3xl shadow-md overflow-hidden
           border-2 border-transparent
           transition-all duration-200 ease-out
           hover:shadow-xl hover:-translate-y-1.5 hover:border-coral/30
           active:scale-[0.98];
  }

  /* Mission Card */
  .mission-card {
    @apply relative overflow-hidden rounded-3xl p-6 lg:p-8
           bg-gradient-to-br from-purple/10 via-coral/5 to-ocean/10
           border-2 border-purple/20
           transition-all duration-200 ease-out
           hover:shadow-lg hover:border-purple/30;
  }

  /* Section Container */
  .section-container {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .badge-beginner {
    @apply bg-forest/20 text-forest;
  }

  .badge-intermediate {
    @apply bg-sunshine/30 text-amber-700;
  }

  .badge-advanced {
    @apply bg-coral/20 text-coral;
  }

  /* Intensity badges - Easy / Medium / Spicy */
  .badge-easy {
    @apply bg-forest/15 text-forest border border-forest/20;
  }

  .badge-medium {
    @apply bg-sunshine/20 text-amber-700 border border-sunshine/30;
  }

  .badge-spicy {
    @apply bg-coral/15 text-coral border border-coral/20;
  }

  /* Mobile Navigation Bar */
  .mobile-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200
           flex justify-around items-center h-16 z-50
           safe-area-inset-bottom;
  }

  .mobile-nav-item {
    @apply flex flex-col items-center justify-center flex-1 h-full
           text-soft-gray transition-colors duration-150
           active:text-coral;
  }

  .mobile-nav-item.active {
    @apply text-coral;
  }

  /* Play button in mobile nav (center, elevated) */
  .mobile-nav-play {
    @apply flex flex-col items-center justify-center flex-1 h-full relative;
  }

  .mobile-nav-play-btn {
    @apply absolute -top-5 w-14 h-14 rounded-full
           bg-gradient-to-br from-coral to-coral/80
           shadow-lg shadow-coral/30
           flex items-center justify-center
           transition-all duration-200
           hover:scale-110 active:scale-95;
  }

  /* Hero Section - more dramatic and playful */
  .hero-section {
    @apply relative min-h-[85vh] flex items-center justify-center
           bg-gradient-to-br from-sunshine/20 via-coral/10 to-ocean/20;
  }

  /* Video Thumbnail Container */
  .video-thumbnail {
    @apply relative aspect-video rounded-xl overflow-hidden bg-gray-100;
  }

  .video-play-btn {
    @apply absolute inset-0 flex items-center justify-center
           bg-black/30 opacity-0 transition-opacity duration-200
           group-hover:opacity-100;
  }

  /* Loading skeleton */
  .skeleton {
    @apply animate-pulse bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200
           bg-[length:200%_100%];
  }

  /* Press Play Generator Module */
  .press-play-module {
    @apply relative bg-white rounded-3xl shadow-xl p-6 sm:p-8 lg:p-10
           border-2 border-sunshine/30
           overflow-hidden;
  }

  .press-play-module::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-1.5 bg-gradient-sunrise;
  }

  /* Workout Card (the Family Workout Card™ style) */
  .workout-card-tm {
    @apply bg-white rounded-3xl shadow-lg p-6 border-2 border-ocean/20
           transition-all duration-200 ease-out
           hover:shadow-xl hover:-translate-y-1;
  }

  .workout-card-tm-header {
    @apply flex items-start justify-between gap-4 mb-4 pb-4 border-b border-gray-100;
  }

  /* Section divider with playful dots */
  .section-divider {
    @apply flex items-center justify-center gap-2 py-2;
  }

  .section-divider::before,
  .section-divider::after {
    content: '•  •  •';
    @apply text-coral/30 text-lg tracking-widest;
  }
}

@layer utilities {
  /* Safe area for mobile devices */
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top, 0);
  }

  /* Text gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-sunrise;
  }

  /* Ocean text gradient */
  .text-gradient-ocean {
    @apply bg-clip-text text-transparent bg-gradient-ocean;
  }

  /* Playful text gradient */
  .text-gradient-playful {
    @apply bg-clip-text text-transparent bg-gradient-playful;
  }

  /* Hide scrollbar */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Aspect ratios */
  .aspect-video-thumbnail {
    aspect-ratio: 16 / 9;
  }

  .aspect-square-thumbnail {
    aspect-ratio: 1 / 1;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-8px); }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-3deg); }
  75% { transform: rotate(3deg); }
}

@keyframes pop-in {
  0% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes slide-up {
  0% { transform: translateY(20px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes pulse-ring {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(1.5); opacity: 0; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-wiggle {
  animation: wiggle 2s ease-in-out infinite;
}

.animate-pop-in {
  animation: pop-in 0.4s ease-out forwards;
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out forwards;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Staggered animation delays for children */
.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 80ms; }
.stagger-children > *:nth-child(3) { animation-delay: 160ms; }
.stagger-children > *:nth-child(4) { animation-delay: 240ms; }
.stagger-children > *:nth-child(5) { animation-delay: 320ms; }
.stagger-children > *:nth-child(6) { animation-delay: 400ms; }

/* RTL Support for Arabic */
[dir="rtl"] {
  direction: rtl;
  text-align: right;
}

[dir="rtl"] .flex-row {
  flex-direction: row-reverse;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    background: white;
    color: black;
  }

  .workout-card-tm {
    break-inside: avoid;
    page-break-inside: avoid;
    border: 2px solid #ccc;
  }
}
